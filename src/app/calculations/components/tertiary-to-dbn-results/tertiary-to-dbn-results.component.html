<ng-container *ngIf="calculation">
  <div class="title">
    <h1>Sequence & secondary structure topology derived from file {{ calculation.filename }}</h1>
    <h2>{{ calculation.results[0].output.title }}</h2>
    <p class="info">
      <strong>NOTE:</strong> Your calculation is available only for <strong>14 days.</strong>
      You can
      <button mat-button [cdkCopyToClipboard]="url" (click)="linkCopied = true">
        copy the calculation link
        <mat-icon *ngIf="linkCopied === false">content_copy</mat-icon>
        <mat-icon *ngIf="linkCopied === true">done</mat-icon>
      </button>
      to visit this page again in the future.
    </p>
  </div>

  <div class="download">
    <app-download
      [selected]="selected"
      [path]="path"
      [id]="calculation.id">
    </app-download>
  </div>

  <div class="reanalyze">
    <app-reanalyze-panel [(ngModel)]="reanalyzePanelExpanded">
      <app-tertiary-to-dbn-params-form [isTestLayout]="false" [params]="calculation.results[0].params" (paramChange)="onParamsChange($event)">
      </app-tertiary-to-dbn-params-form>
      <mat-divider></mat-divider>
      <app-submit-button [callback]="reanalyzeCallback" (buttonSubmit)="onSubmit($event)"></app-submit-button>
    </app-reanalyze-panel>
  </div>

  <div class="results">
    <div class="result" *ngFor="let result of calculation.results; let i = index">
      <app-tertiary-result
        [(ngModel)]="selected!.fields[i]"
        [result]="result">
      </app-tertiary-result>
    </div>
  </div>
</ng-container>
