<ng-container *ngIf="calculationResults$ | async as calcRes; else status">
  <app-secondary-to-dbn-results [calculation]="calcRes"></app-secondary-to-dbn-results>
</ng-container>

<ng-template #status>
  <div class="centered">
    <ng-container *ngIf="error; else loading">
      <app-error [message]="error"></app-error>
    </ng-container>

    <ng-template #loading>
      <app-loading></app-loading>
    </ng-template>
  </div>
</ng-template>
